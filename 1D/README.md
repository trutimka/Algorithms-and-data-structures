Для поиска ответа я использую алгоритм бинарного поиска по ответу. Для бинарного поиска берем наибольшее возможное расстояние, то есть изначально это расстояние от 0 до (координата_последнего_стойла - координата_первого_стойла). На каждом этапе мы проверяем, можем ли мы рассположить фестралов. Таким образом перебираем ответы и находим наибольший.